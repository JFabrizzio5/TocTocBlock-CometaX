@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  /* New Fonts */
  --font-bungee: var(--font-bungee);
  --font-space: var(--font-space);
}

/* Base Theme Variables */
:root {
  --radius: 1.5rem;
  /* Rounder for Splatoon vibe */

  /* SPLATOON LIGHT MODE (Fresh & Vibrant) */
  --background: oklch(0.98 0.02 240);
  /* Very light cool grey/blue */
  --foreground: oklch(0.2 0.05 260);
  /* Deep Ink Blue */

  --card: oklch(1 0 0);
  --card-foreground: oklch(0.2 0.05 260);

  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.2 0.05 260);

  --primary: oklch(0.6 0.25 340);
  /* Neon Pink (Inkling Girl) */
  --primary-foreground: oklch(1 0 0);

  --secondary: oklch(0.85 0.15 140);
  /* Neon Green (Inkling Boy) */
  --secondary-foreground: oklch(0.2 0.05 260);

  --muted: oklch(0.96 0.01 240);
  --muted-foreground: oklch(0.5 0.05 260);

  --accent: oklch(0.7 0.2 280);
  /* Purple Ink */
  --accent-foreground: oklch(1 0 0);

  --destructive: oklch(0.6 0.25 25);
  /* Splat Red */
  --destructive-foreground: oklch(1 0 0);

  --border: oklch(0.9 0.05 240);
  --input: oklch(0.9 0.05 240);
  --ring: oklch(0.6 0.25 340);
  /* Pink Ring */

  --sidebar: oklch(0.98 0.02 240);
  --sidebar-foreground: oklch(0.2 0.05 260);
  --sidebar-primary: oklch(0.6 0.25 340);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.95 0.05 240);
  --sidebar-accent-foreground: oklch(0.2 0.05 260);
  --sidebar-border: oklch(0.9 0.05 240);
  --sidebar-ring: oklch(0.6 0.25 340);

  /* SPLATOON PALETTE - Specific mappings for the block system */
  --brick-red: oklch(0.6 0.25 25);
  /* Red Ink */
  --brick-blue: oklch(0.6 0.2 250);
  /* Blue Ink */
  --brick-yellow: oklch(0.85 0.2 90);
  /* Yellow Ink */
  --brick-green: oklch(0.7 0.25 140);
  /* Green Ink */
  --brick-dark: oklch(0.2 0.05 260);
  /* Deep Ink (Black) */
  --brick-white: oklch(1 0 0);
  /* Canvas White */

  /* Ink Splatter Pattern for Background */
  --bg-grid: oklch(0.95 0.02 240);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
    background-image:
      radial-gradient(circle at 10% 20%, var(--primary) 0%, transparent 20px),
      radial-gradient(circle at 90% 80%, var(--secondary) 0%, transparent 30px),
      radial-gradient(circle at 50% 50%, var(--accent) 0%, transparent 15px);
    background-size: 100% 100%;
    background-attachment: fixed;
    background-repeat: no-repeat;
  }
}

/* DARK MODE THEME variables */
.dark {
  --background: oklch(0.15 0.05 260);
  /* Deep Ink Background */
  --foreground: oklch(0.98 0.02 240);

  --card: oklch(0.2 0.05 260);
  --card-foreground: oklch(0.98 0.02 240);

  --popover: oklch(0.2 0.05 260);
  --popover-foreground: oklch(0.98 0.02 240);

  --primary: oklch(0.6 0.25 340);
  /* Keep vibrant Pink */
  --primary-foreground: oklch(1 0 0);

  --secondary: oklch(0.85 0.15 140);
  /* Keep vibrant Green */
  --secondary-foreground: oklch(0.1 0.05 260);

  --muted: oklch(0.25 0.05 260);
  --muted-foreground: oklch(0.7 0.05 240);

  --accent: oklch(0.7 0.2 280);
  /* Keep vibrant Purple */
  --accent-foreground: oklch(1 0 0);

  --destructive: oklch(0.6 0.25 25);
  --destructive-foreground: oklch(1 0 0);

  --border: oklch(0.3 0.05 260);
  --input: oklch(0.3 0.05 260);
  --ring: oklch(0.6 0.25 340);

  --sidebar: oklch(0.15 0.05 260);
  --sidebar-foreground: oklch(0.98 0.02 240);
  --sidebar-primary: oklch(0.6 0.25 340);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.25 0.05 260);
  --sidebar-accent-foreground: oklch(0.98 0.02 240);
  --sidebar-border: oklch(0.3 0.05 260);
  --sidebar-ring: oklch(0.6 0.25 340);

  /* SPLATOON DARK MODE Overrides */
  --brick-white: oklch(0.2 0.05 260);
  --brick-dark: oklch(0.95 0.02 240);
  /* White borders for contrast */
  --bg-grid: oklch(0.1 0.05 260);
}

/* CUSTOM SPLATOON STYLES */
/* We keep the class names generic (font-block, btn-block) but change the style */

.font-block {
  font-family: var(--font-bungee), cursive;
  letter-spacing: 1px;
  /* Add a slight rotation to headers for that chaotic vibe */
  display: inline-block;
}

.font-tech {
  font-family: var(--font-space), sans-serif;
}

.bg-builder {
  /* Replaced grid with a more fluid pattern or just simple background color */
  background-color: transparent;
}

/* CARDS - Gummy/Ink Style */
.block-card {
  background: var(--card);
  border: 4px solid var(--brick-dark);
  border-radius: 1.5rem;
  /* Very rounded */
  box-shadow: 6px 6px 0px var(--brick-dark);
  /* Pop shadow */
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.2s ease;
  position: relative;
  overflow: hidden;
  /* For ink containment */
  color: var(--card-foreground);
}

/* Remove the old studs */
.studs-top::before {
  display: none;
}

/* Hover Effect - Bounce/Wobble */
.block-card:hover {
  transform: translate(-4px, -4px) rotate(1deg);
  box-shadow: 10px 10px 0px var(--brick-dark);
}

/* BUTTONS - Squishy Ink Blobs */
.btn-block {
  font-family: var(--font-bungee), cursive;
  letter-spacing: 0.5px;
  border-radius: 9999px;
  /* Pill shape */
  @apply uppercase border-[3px] border-[var(--brick-dark)] shadow-[4px_4px_0px_var(--brick-dark)] transition-all relative top-0 left-0;
}

.btn-block:hover {
  @apply scale-105;
}

.btn-block:active {
  top: 4px;
  left: 4px;
  box-shadow: 0px 0px 0px var(--brick-dark);
  @apply scale-95;
}

/* Button Variants */
.btn-primary {
  background: var(--primary);
  color: var(--primary-foreground);
}

.btn-secondary {
  background: var(--card);
  color: var(--foreground);
}

.btn-accent {
  background: var(--brick-yellow);
  color: oklch(0.2 0.05 260);
}

.btn-danger {
  background: var(--brick-red);
  color: white;
}

/* Animations */
@keyframes splat-enter {
  0% {
    opacity: 0;
    transform: scale(0.5) rotate(-10deg);
  }

  70% {
    transform: scale(1.1) rotate(5deg);
  }

  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}


/* Artistic / Paint Effects */

.border-paint {
  border-radius: 2% 98% 2% 98% / 2% 98% 2% 98%;
  border: 3px solid var(--brick-dark);
}

.box-paint {
  border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
  border: 3px solid var(--brick-dark);
  box-shadow: 4px 4px 0px var(--brick-dark);
}

.text-paint {
  text-shadow: 2px 2px 0px var(--primary);
  transform: rotate(-1deg);
  display: inline-block;
}

/* Paint Drip Animation */
@keyframes drip {
  0% {
    height: 0;
    opacity: 1;
  }

  80% {
    height: 20px;
    opacity: 1;
  }

  100% {
    height: 25px;
    opacity: 0;
  }
}

.drip-effect::after {
  content: '';
  position: absolute;
  bottom: -5px;
  left: 20px;
  width: 10px;
  height: 0;
  background: inherit;
  border-radius: 0 0 10px 10px;
  animation: drip 3s infinite ease-in;
}

/* Ensure existing classes use the new organic feel */
.block-card {
  /* Irregular border radius for that "hand-painted" block look */
  border-radius: 1rem;
}

.btn-block {
  /* Squircle-ish */
  border-radius: 12px 24px 12px 24px;
}